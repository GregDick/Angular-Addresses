doctype html
html(lang="en-US", ng-app="angularAddresses")
  head
    meta(charset="utf-8")
    meta(http-equiv="X-UA-Compatible", content="IE=edge")
    meta(name="viewport", content="width=device-width, initial-scale=1")
    title Angular Addresses
    link(rel="stylesheet" href="lib/build.css")
    link(rel="stylesheet" href="css/main.css")
  body(ng-controller='Main as main')
    .container
      h1 AngularAddresses
      h2 Search
      input(placeholder="Search", ng-model="query")
      h2 Addresses
      table(class='table')
        tbody
          tr
            th
            th PHOTO
            th NAME
            th TWITTER
            th PHONE NUMBER
          tr(ng-repeat="person in main.people | orderBy:'name' | filter:query")
            td
              button(ng-click="main.removeAddress(person)") X
            td
              img(ng-src='{{person.photo}}')
            td {{person.name}}
            td
              a(href='http://twitter.com/{{person.twitter}}', target="_blank") {{person.twitter}}
            td
              a(href='tel:{{person.number}}') {{person.number}}
      h2 New Address

    .btn.btn-primary(data-toggle='modal', data-target='#modal') Open Modal
    .modal.fade#modal
      .modal-dialog
        .modal-content
          .modal-header
            button.close(data-dismiss="modal")
              span &times;
            h1 hey I'm a modal
          .modal-body
            form(name="newAddressForm", novalidate)
            .form-group(ng-class="{'has-success': newAddressForm.n.$dirty && main.newPerson.name}")
              label.control-label Name
              input.form-control(name="n", type="text", placeholder="John", ng-model="main.newPerson.name", required)
            .form-group(ng-class="{'has-success': newAddressForm.p.$dirty && main.newPerson.phone}")
              label.control-label Phone
              input.form-control(name="p", type="tel", placeholder="615-555-5555", ng-model="main.newPerson.number", required)
            .form-group(ng-class="{'has-success': newAddressForm.t.$dirty && main.newPerson.twitter}")
              label.control-label Twitter
              input.form-control(name="t", type="text", placeholder="@abc123", ng-model="main.newPerson.twitter", required)
          .modal-footer
            button.btn.btn-danger(data-dismiss="modal") Cancel
            button.btn.btn-primary(ng-disabled="newAddressForm.$invalid", ng-click="newAddressForm.$valid && main.addNewAddress()", data-dismiss="modal") Add Person to Address Book
    script(src="lib/build.js")
    script(src="js/main.js")
